<template name="playerStatus">
<div class="row player-status">
  {{#if isPlaying}}
    {{#if hasTerritory}}
      {{> territoryWarScreen}}
    {{else}}
      {{> dropWarScreen}}
    {{/if}}
    {{> playerColor}}
    {{> playerMessages}}
    {{> territoryCount}}
    {{> floatingTroopCount}}
  {{else}}
  <div class="span2">
    <button class="btn join-round">Join Round {{round}}</button>
  </div>
  {{/if}}
</div>
</template>

<template name="playerColor">
  <div class="span2">
    <div class="player-color-container">
      Your color:
      <span class="player-color" style="background-color:{{color}}"></span>
    </div>
  </div>
</template>

<template name="playerMessages">
  <div class="player-messages-container span4">
    <h3>Your messages</h3>
    <div class="player-messages">
      {{#each messages}}
      <div class="player-message player-message-{{this.type}}">
        {{this.message}}
      </div>
      {{/each}}
    </div>
  </div>
</template>

<template name="territoryWarScreen">
  <div class="span4">
    Territory War Screen.
  </div>
</template>

<template name="dropWarScreen">
  <div class="drop-war-screen span4">
    {{#if hasTroops}}
    <p>
    As you currently have no territories, you can attack any region with a minimum contingent.
    Select a territory to attack to begin, then attack.
    </p>
    <button class="btn drop-attack" {{#unless hasSelection}}disabled="disabled"{{/unless}}>
      Deploy attack.
    </button>
    {{else}}
    <p>
    You currently have no troops, so you cannot attack. You must wait for the next tick for resupply.
    </p>
    {{/if}}
  </div>
</template>

<template name="territoryCount">
<div class="player-count span2">
  <p>Your territories:</p>
  <div class="count">
    {{count}}
  </div>
</div>
</template>

<template name="floatingTroopCount">
<div class="player-count span2">
  <p>Troops to place:</p>
  <div class="count">
    {{count}}
  </div>
</div>
</template>
